<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ZonaTech Â· Carrito con FacturaciÃ³n (v11)</title>
  <link rel="stylesheet" href="./css/styles.css">
<link rel="stylesheet" href="./css/fullwidth-patch.css">
</head>
<body>
  <header class="wrap">
    <div class="brandbar">
      <div class="logo">Z</div>
      <div class="brand"><strong>ZonaTech</strong> <span>Â· Tienda TecnolÃ³gica</span></div>
      <button id="btn-reset" class="btn ghost">Restablecer (inventario)</button>
    </div>
    <h1>ðŸ›’ Tienda TecnolÃ³gica â€” Carrito con FacturaciÃ³n</h1>
  </header>

  <main class="wrap grid">
    <!-- CatÃ¡logo -->
    <section class="card">
      <div class="section-title"><span class="dot"></span><h2>CatÃ¡logo de productos</h2></div>
      <p class="muted">Elige una categorÃ­a o explora todo. Usa <strong>Agregar</strong> o <strong>+/âˆ’</strong> para ajustar cantidades.</p>
      <div id="category-chips" class="chips"></div>
      <div id="product-grid" class="products" aria-live="polite"></div>
    </section>

    <!-- Carrito -->
    <aside class="card cart" id="cart-panel">
      <div class="cart__head">
        <h2>Carrito</h2>
        <div id="last-sale" class="muted"></div>
      </div>

      <div class="row">
        <label for="tax-select">Impuesto:</label>
        <select id="tax-select">
          <option value="0.00">Sin impuesto</option>
          <option value="0.13" selected>IVA 13%</option>
          <option value="0.15">ISV 15%</option>
          <option value="0.18">IGV 18%</option>
        </select>
      </div>

      <div id="cart-list" class="table"></div>
      <div id="totals"></div>

      <div class="actions">
        <button id="btn-clear" class="btn ghost">Vaciar carrito</button>
        <button id="btn-checkout" class="btn primary">Ver factura</button>
      </div>

      <div class="actions">
        <button id="btn-history" class="btn">Ver historial de facturas</button>
        <button id="btn-clear-history" class="btn danger outline">Borrar historial</button>
      </div>

      <p id="cart-hint" class="muted">Selecciona productos para ver el resumen y poder facturar.</p>
    </aside>
  </main>

  <footer class="wrap">
    <small>Inventario y carrito se guardan en tu navegador (localStorage). v11</small>
  </footer>

  <!-- Modal de factura -->
  <dialog id="invoice-modal">
    <article class="invoice modal">
      <header class="invoice__header">
        <h3>Factura</h3>
        <button id="close-invoice" class="btn icon" aria-label="Cerrar">âœ–</button>
      </header>
      <div id="invoice-content" class="invoice__content"></div>
      <footer class="invoice__footer">
        <button id="btn-continue" class="btn ghost">Seguir comprando</button>
        <div class="spacer"></div>
        <button id="btn-finalize" class="btn primary">Finalizar compra</button>
        <button id="btn-print" class="btn">Imprimir / Guardar PDF</button>
      </footer>
    </article>
  </dialog>

  <!-- Modal de historial -->
  <dialog id="history-modal">
    <article class="history modal">
      <header class="history__header">
        <h3>Historial de facturas</h3>
        <button id="close-history" class="btn icon" aria-label="Cerrar">âœ–</button>
      </header>
      <div id="history-content" class="history__content"></div>
      <footer class="history__footer">
        <small class="muted">Se guardan localmente en tu navegador (mÃ¡x. 50 mÃ¡s recientes).</small>
      </footer>
    </article>
  </dialog>

  <div id="toast" role="status" aria-live="polite"></div>
  <div id="mini-cart" class="mini-cart" role="button">Carrito (0) â€” $0.00</div>

  <script defer src="./js/app.js"></script>
</body>
</html>
